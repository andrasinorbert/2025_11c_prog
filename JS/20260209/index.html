<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>

function kiir(){
    console.log("szia");
}
// setTimeout(kiir, 5000); //egyszeri kiírás
let x=0;
function kiir2(){
    console.log("Béla"+x);
    x++;
}
let id=setInterval(kiir2, 1500); // folyamatos kiírás adott időközönként

function leallitas(){
    clearInterval(id);
    console.log("leállítás: "+id)
}
setTimeout(leallitas, 5000);


function jelszoEllenorzes(jelszo) {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            if (jelszo.length >= 8) {
                resolve("Erős jelszó");
            } else {
                reject("Túl rövid jelszó");
            }
        }, 1000);
    });
}

jelszoEllenorzes("titokzatos")
    .then(eredmeny => console.log(eredmeny))
    .catch(hiba => console.error(hiba));


const getAsyncUser= id =>{
    return new Promise( (resolve, reject)=>{
        console.log("getAsyncUser elindult");
        setTimeout(()=>{
            const users = [
                { id: 1, name: "Anna", role: "admin" },
                { id: 2, name: "Béla", role: "guest" }
            ];

            const user= users.find(u=>u.id === id);

            if(user)
                resolve(user);
            else
                reject(new Error(`A ${id} azonosítójú felhasználó nem található.`))
        }, 1000)
    })  
}

getAsyncUser(1)
    .then(user=>{
        return user.name;
    })
    .then( name=>{
        console.log(`megtalált user: ${name}`)
        return name.length;
    })
    .then(hossz => {
        console.log("A név hossza: "+hossz);
        return hossz%2==0})
    .then(parose=>{
        console.log(`A hossz ${parose?"páros":"páratlan"}`)
    })
    .catch(err => console.error(err.message))
    .finally(()=>{
        console.info("Véget ért!!!")
    })
    </script>
</head>
<body>
    Üdv
</body>
</html>